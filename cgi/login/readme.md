# ログインシステム
PHPでログインページを作って、MySQLのデータベースにユーザーとパスワードを登録し、ログインができるようにした。

ログイン後のページにはユーザー名とID、ハッシュ化されたパスワードが表示される。

# 下準備
- ApacheでPHPとMySQLが動かせるようにしておく
- MySQLでデータベースを作る
  - DB名:login_user
  - Table名:User
  - テーブルの構造  
+-----------+--------------+------+-----+---------+----------------+  
| Field　　　| Type　　　　| Null | Key | Default　| Extra　　　　|  
+-----------+--------------+------+-----+---------+----------------+  
| id　　　　| int unsigned | NO　| PRI　| NULL　| auto_increment |  
| user_name | varchar(64)  | NO　| UNI　|　　 　　|　　　 　　　|  
| password  | varchar(255) | NO　|　　　|　　 　　| 　　　 　　　|  
+-----------+--------------+------+-----+---------+----------------+  

# ファイル
- login.php
  - データベースを使わないログインテスト用
   - ユーザー名:root パスワード:abcd1234 でログインできる
   - ログイン成功後loginmain.phpが呼び出される

- loginmain.php
  - 「<ユーザー名>さんこんにちは」と表示するだけ

- index.php
  - 一番のメイン
  - ユーザー名とパスワードを入力してログイン
  - データベースからユーザー名とパスワードを見て一致する場合はログインする
  - ユーザーを登録したい場合はユーザー登録を押すとadduser.phpが呼ばれる

- adduser.php
  - ユーザー名とパスワードを入力するとデータベースに登録される

- database.php
  - データベースを読み込む
  - データベースを取り扱うページで実行される
  - MySQLのユーザー名とパスワードは隠しておいた方がよかった気がする
 
- hashsalt.php
  - データベースに登録するパスワードはハッシュ化する
    - パスワードは絶対に平文で保存しない
  - ログイン時も入力されたパスワードをハッシュ化して、データベースにあるパスワードと比較する
  - saltはIDやユーザー名などの人ごとに違う文字列を使うことで、違う人が同じパスワードを登録してもハッシュ値が変わる
  - costは何回ハッシュ化を行うか
 
- main.php
  - ログインに成功した場合、入力したユーザー名に一致する名前と、それに関連付けられたID、ハッシュ化されたパスワードが表示される
